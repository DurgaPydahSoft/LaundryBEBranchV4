import{S as i}from"./EntryFile-CdBuo5Hp.js";let n=async()=>{document.getElementById("RefreshBSTableId").click()};const u="binV3",m="Custom/Cleaning/Branch/Today/V1/AmountSplit",d={StartRoute:u,Url:m};let f=async()=>{let t=localStorage.getItem("BranchName"),e=` /${d.Url}/${t}`;return await await fetch(e)},h=async()=>{let t=await f();if(t.status===200)return S({inData:await t.json()})};const S=({inData:t})=>t.map(a=>(a.VouherName="Receipts",a));let F=()=>{var t=$("#table");let a=L().sort((r,o)=>r.value-o.value);t.bootstrapTable("load",a)};const L=()=>jVarGlobalPresentViewData.sort((t,e)=>{const a=t.Date,r=e.Date;return a<r?-1:a>r?1:0});let B=async()=>{try{let[t]=await Promise.all([h()]);jVarGlobalPresentViewData=[...t],F()}catch(t){console.log("error from Promise all : ",t),alert("error from Promise All")}},V=()=>{let t=document.getElementById("RefreshBSTableId");t!==null&&t.addEventListener("click",B)},j=()=>{V()};const g="#toolbar",w="true",b="true",C="pk",R="true",I="true",p=!0,y="[5, 10, 25 ]",N="5",D=[],T="",A=[{field:"KS-Serial",title:"#",formatter:"jFGlobalSerialColumn"},{field:"pk",title:"Order #"},{field:"CustomerData.CustomerName",title:"Customer Name"},{field:"CustomerData.CustomerMobile",title:"Mobile"},{field:"CustomerData.GSTNumber",title:"GstNumber"},{field:"TotalPcs",title:"Pcs",align:"right",footerFormatter:"totalFormatter"},{field:"DiscountPer",title:"Dis %",align:"right",footerFormatter:"totalFormatter"},{field:"DiscountAmount",title:"Dis Amount",align:"right",footerFormatter:"totalFormatter"},{field:"CashAmount",title:"Cash",footerFormatter:"totalFormatter",align:"right"},{field:"CardAmount",title:"Card",footerFormatter:"totalFormatter",align:"right"},{title:"UPI",field:"UPIAmount",align:"right",footerFormatter:"totalFormatter"},{title:"Total",align:"right",field:"TotalAmount",footerFormatter:"totalFormatter"}],c={toolbar:g,search:w,searchable:b,idfield:C,showFooter:R,pagination:I,filterControl:p,pageList:y,pageSize:N,data:D,onClickRow:T,columns:A};let P=async({inFromFetch:t})=>{t.KTF===!1?Swal.fire({icon:"warning",text:t.KReason}):t.QrCodesRaised===0?Swal.fire({icon:"error",title:"Not Raised",text:"Product Details are Empty"}):(U(),Swal.fire({icon:"success",title:"Raised",text:" QrCodes raised successfully"}).then(a=>{if(a.isConfirmed){const r=new URL(window.location.href),o=new URLSearchParams(r.search);let l=new URL("./TodayQrPrint.html",r);const s=new URL(`${l.href}?${o}`);window.location.href=s.href}}))};const U=()=>{document.getElementById("RefreshBSTableId").click()},k=async({inRowData:t})=>{let e=t.UuId;t.OrderData.BranchName;let r=`/Custom/Clients/Laundry/Qrcodes/Generate/${localStorage.getItem("BranchName")}/${e}`,l=await(await fetch(r)).json();return P({inFromFetch:l}),l};let v=async({inRowData:t})=>{Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok",focusCancel:!0,focusButtonColor:"#0000ff"}).then(e=>{e.isConfirmed&&k({inRowData:t}).then(a=>{})})};const E=(t,e,a)=>{a==="QRRaise"&&v({inRowData:t})},G=()=>{var t=$("#table");c.onClickRow=E,t.bootstrapTable(c)};let x=()=>{let e=document.getElementById("BranchNameId");const r=localStorage.getItem("BranchName").replace("BranOrders","");e!==null&&(e.innerHTML=r)};const H=()=>{x(),G(),j()},Q=()=>{H(),i({inSuccessFunc:n})&&n().then()};Q();
