import"./EntryFile-D8ENrF23.js";let u=async()=>{document.getElementById("RefreshBSTableId").click()};const d="binV4",f="MastersAddOns",m="/Custom/Cleaning/V1/Masters/AddOns/Get/DataOnly",F="/Custom/Cleaning/V1/Masters/AddOns/Delete",i={StartRoute:d,tableName:f,GetUrl:m,DeleteUrl:F};let S=async()=>{let t=i.GetUrl;return await await fetch(t)};const h=t=>{var e=$("#table");let a=t.sort((l,n)=>l.value-n.value);e.bootstrapTable("load",a)},b=t=>{},p=async t=>{t.status===200&&h(await t.json()),t.status===500&&b(await localResponse.text())},L=async()=>{let t=await S();p(t)};let j=()=>{let t=document.getElementById("RefreshBSTableId");t!==null&&t.addEventListener("click",L)},w=()=>{j()};const C="#toolbar",R="true",y="true",V="pk",B="true",g="true",v="[5,10,25,50,100,all]",T=[],D=[{field:"KS-Serial",title:"#",formatter:"jFLocalSerialColumn"},{field:"AddOnService",title:"AddOn Service"},{field:"AddOnRate",title:"AddOn Rate",align:"right",formatter:"",footerFormatter:""},{field:"Delete",title:"Delete",formatter:"jFLocalOptsFormater"}],r={toolbar:C,search:R,searchable:y,idfield:V,showFooter:B,pagination:g,pageList:v,data:T,columns:D},O="DELETE",A={Accept:"application/json","Content-Type":"application/json"},k="",I={method:O,headers:A,body:k};let U=()=>I,E=async({inRowPk:t})=>{let e=i.DeleteUrl,a=U(),l=`${e}/${t}`;return await await fetch(l,a)},x=()=>{window.location.href=""},c=async({inRowPk:t})=>{(await E({inRowPk:t})).status===200&&x()};const G=async(t,e,a)=>{a==="Delete"&&(await Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"error",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"grey",confirmButtonText:"Yes, delete it!",reverseButtons:!0,focusCancel:!0,cancelButtonText:"Cancel"})).isConfirmed&&("id"in t&&await c({inRowPk:t.id}),"pk"in t&&await c({inRowPk:t.pk}))};let M=({inFindColumn:t})=>{t.formatter=H};function H(t,e,a){return['<a class="like btn btn-danger" href="#" title="Delete">','<i class="bi bi-trash3-fill"></i>',"</a>"].join("")}let J=({inFindColumn:t})=>{t.formatter=K},K=(t,e,a)=>a+1,N=({inFindColumn:t})=>{t.footerFormatter=P,t.formatter=s,t.formatter=s},P=t=>{var e="Rate";let a=t.map(function(l){return l[e]===void 0?0:+l[e]}).reduce(function(l,n){return l+n},0);return"₹"+Math.floor(a)};function s(t){return this.field,"₹ "+t}let Y=({inColumns:t})=>{let e=t,a=e.find(o=>o.field==="Delete"),l=e.find(o=>o.field==="KS-Serial"),n=e.find(o=>o.field==="Rate");a!==void 0&&M({inFindColumn:a}),l!==void 0&&J({inFindColumn:l}),n!==void 0&&N({inFindColumn:n})};const q=()=>{var t=$("#table");r.onClickRow=G,Y({inColumns:r.columns}),t.bootstrapTable(r)},z=()=>{q(),w()},Q=()=>{z(),u().then()};Q();
