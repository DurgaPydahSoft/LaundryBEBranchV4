import"./EntryFile-D8ENrF23.js";let d=async()=>{document.getElementById("RefreshBSTableId").click()};const u="/Custom/Cleaning/V1/Masters/Customers/Get/DataOnly",m={StartRoute:u};let h=async()=>{let t=`${m.StartRoute}`;return await await fetch(t)},f=async()=>{let t=await h();if(t.status===200)return S({inData:await t.json()})};const S=({inData:t})=>t.map(a=>(a.VouherName="Receipts",a));let y=()=>{var t=$("#table");let a=b().sort((r,o)=>r.value-o.value);t.bootstrapTable("load",a)};const b=()=>jVarGlobalPresentViewData.sort((t,e)=>{const a=t.Date,r=e.Date;return a<r?-1:a>r?1:0});let F=async()=>{try{let[t]=await Promise.all([f()]);jVarGlobalPresentViewData=[...t],y()}catch(t){console.log("error from Promise all : ",t),alert("error from Promise All")}},C=()=>{let t=document.getElementById("RefreshBSTableId");t!==null&&t.addEventListener("click",F)},w=()=>{C()};const B="#toolbar",L="true",N="true",j="pk",D="true",g="true",V="",p="[5,10,25,50,100,all]",O=[],I=[{field:"KS-Serial",title:"#",formatter:""},{field:"CustomerName",title:"Customer Name"},{field:"Mobile",title:"Mobile"},{field:"DOB",title:"DOB"},{field:"GSTNumber",title:"GST Number"},{field:"City",title:"City"},{field:"Occupation",title:"Occupation"},{field:"CompanyName",title:"Company Name"},{field:"Orders",title:"New Order",formatter:""}],l={toolbar:B,search:L,searchable:N,idfield:j,showFooter:D,pagination:g,onClickRow:V,pageList:p,data:O,columns:I};let T=({inFindColumn:t})=>{t.formatter=R},R=(t,e,a)=>['<a class="like btn " href="#" title="Orders">','<i class="bi bi-stack"></i>'].join(""),M=({inFindColumn:t})=>{t.formatter=P};function P(t,e,a){return a+1}let A=({inColumns:t})=>{let e=t,a=e.find(o=>o.field==="Orders"),r=e.find(o=>o.field==="KS-Serial");a!==void 0&&T({inFindColumn:a}),r!==void 0&&M({inFindColumn:r})};const k="POST",H={Accept:"application/json","Content-Type":"application/json"},U={ItemsInOrder:{},CustomerData:{CustomerName:"",CustomerMobile:""},OrderData:{BranchName:"",Currentdateandtime:""},AddOnData:{},CheckOutData:{}},n={method:k,headers:H,body:U};let v=({inrowData:t})=>{let e=localStorage.getItem("BranchName");return n.body.CustomerData.CustomerMobile=t.Mobile,n.body.CustomerData.CustomerName=t.CustomerName,n.body.OrderData.BranchName=e,n.body.OrderData.Currentdateandtime=G(),n.body=JSON.stringify(n.body),n},G=()=>{let t=new Date,e=new Date(t),a=(e.getSeconds()<10?"0":"")+e.getSeconds(),r=(e.getMinutes()<10?"0":"")+e.getMinutes(),o=(e.getHours()<10?"0":"")+e.getHours(),s=(e.getDate()<10?"0":"")+e.getDate(),i=(e.getMonth()+1<10?"0":"")+(e.getMonth()+1);return`${e.getFullYear()}-${i}-${s} ${o}:${r}:${a}`};const J="bin",x="Openings",E="/Custom/Cleaning/Branch/Order/NewOrder",c={routePath:J,tableName:x,PostFetch:E,"500Status":"/Laundry/Branch/NewOrders/HtmlFiles/AddItems.html"};let K=async({inrowData:t})=>{let e=v({inrowData:t}),a=localStorage.getItem("BranchName"),r=`${c.PostFetch}/${a}`;return await await fetch(r,e)};const W="/Laundry/Branch/NewOrders/HtmlFiles/AddItems.html",Y="",q={RedirectToUrl:W,PresentUrl:Y};let z=({inrowData:t})=>{window.location.href=`${q.RedirectToUrl}`},Q=({inrowData:t})=>{Swal.fire({title:"Error Alert",text:`${t}`,icon:"error",confirmButtonColor:"#3085d6",showDenyButton:!0,denyButtonText:"Add Items",denyButtonColor:"#008000"}).then(e=>{(e.isConfirmed||e.isDismissed)&&(window.location.href=""),e.isDenied&&(window.location.href=c["500Status"])})},X=async({inrowData:t})=>{let e=await K({inrowData:t});e.status===200&&z({inrowData:t}),e.status===500&&Q({inrowData:await e.text()})},Z=({inrowData:t})=>{X({inrowData:t})};const _=(t,e,a)=>{a==="Orders"&&Swal.fire({title:"NewOrder",confirmButtonText:"Yes",showDenyButton:!0}).then(r=>{r.isConfirmed&&Z({inrowData:t})})},tt=()=>{var t=$("#table");A({inColumns:l.columns}),l.onClickRow=_,t.bootstrapTable(l)};let et=()=>{let e=document.getElementById("BranchNameId"),a=localStorage.getItem("BranchName");e!==null&&(e.innerHTML=a)};const at=()=>{et(),tt(),w()},rt=()=>{at(),d().then()};rt();
