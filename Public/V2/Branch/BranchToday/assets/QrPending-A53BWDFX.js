import"./modulepreload-polyfill-B5Qt9EMX.js";import"./EntryFile-Dg-mTZIw.js";import{S as i}from"./EntryFile-BnXMtMmL.js";let c=async()=>{document.getElementById("RefreshBSTableId").click()};const h="binV3",m="",d="Custom/Cleaning/Branch/Today/V1/OrdersWithQrs",u={StartRoute:h,tableName:m,Url:d};let v=async()=>{let t=localStorage.getItem("BranchName"),e=` /${u.Url}/${t}`;return await(await fetch(e)).json()},f=()=>{var t=$("#table");let r=p().sort((l,n)=>l.value-n.value).filter(l=>l.IsQrCodesRaised===!1);t.bootstrapTable("load",r)};const p=()=>jVarGlobalPresentViewData.sort((t,e)=>{const a=t.Date,r=e.Date;return a<r?-1:a>r?1:0});let V=async()=>{let t=await v();jVarGlobalPresentViewData=t,f()},w=()=>{let t=document.getElementById("RefreshBSTableId");t!==null&&t.addEventListener("click",V)},g=()=>{w()};const S="#toolbar",L="true",b="true",H="pk",B="true",F="5",C=[],j="",Z=[{field:"KS-Serial",title:"#",formatter:"jFGlobalSerialColumn",class:"d-none d-sm-table-cell"},{field:"pk",title:"Order #"},{field:"CustomerData.CustomerName",title:"Customer Name"},{field:"CustomerData.CustomerMobile",title:"Mobile",class:"d-none d-sm-table-cell"},{title:"Pcs",field:"ItemDetails",formatter:"",width:"100",footerFormatter:"",class:"d-none d-sm-table-cell"},{title:"Settlement",field:"SettlementAmount",formatter:"",footerFormatter:"",align:"right",class:"d-none d-sm-table-cell"},{title:"Qr Raise",field:"QRRaise",formatter:"jFLocalQrCodeDetails",footerFormatter:"QrFormatter"},{title:"TimeSpan",field:"TimeSpan","filter-control":"select",class:"d-none d-sm-table-cell"}],s={toolbar:S,search:L,searchable:b,idfield:H,showFooter:B,pageSize:F,data:C,onClickRow:j,columns:Z};let R=async({inFromFetch:t})=>{t.KTF===!1?Swal.fire({icon:"warning",text:t.KReason}):t.QrCodesRaised===0?Swal.fire({icon:"error",title:"Not Raised",text:"Product Details are Empty"}):(I(),Swal.fire({icon:"success",title:"Raised",text:" QrCodes raised successfully"}).then(a=>{if(a.isConfirmed){const r=new URL(window.location.href),l=new URLSearchParams(r.search);let n=new URL("./PrintQr.html",r);const o=new URL(`${n.href}?${l}`);window.location.href=o.href}}))};const I=()=>{document.getElementById("RefreshBSTableId").click()},M=async({inRowData:t})=>{let e=t.pk,r=`/Custom/Cleaning/Branch/QrCode/V1/Generate/${localStorage.getItem("BranchName")}/${e}`,n=await(await fetch(r)).json();return R({inFromFetch:n}),n};let x=async({inRowData:t})=>{Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok",focusCancel:!0,focusButtonColor:"#0000ff"}).then(e=>{e.isConfirmed&&M({inRowData:t}).then(a=>{})})};const y=(t,e,a)=>{a==="QRRaise"&&x({inRowData:t})};let A=({inFindColumn:t})=>{t.formatter=D},D=(t,e,a)=>a+1,N=({inFindColumn:t})=>{t.formatter=k,t.footerFormatter=T};function k(t,e,a){return e.IsSettled?` $ ${e.AggValues.SettlementAmount}`:[`<a href="/Laundry/Branch/NewOrders/HtmlFiles/Settlement.html?OrderNumber=${e.pk}" data-ordernumber="${e.pk}" class="btn btn-outline-danger SettlementButtonClass" >`,'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-currency-rupee" viewBox="0 0 16 16">','<path d="M4 3.06h2.726c1.22 0 2.12.575 2.325 1.724H4v1.051h5.051C8.855 7.001 8 7.558 6.788 7.558H4v1.317L8.437 14h2.11L6.095 8.884h.855c2.316-.018 3.465-1.476 3.688-3.049H12V4.784h-1.345c-.08-.778-.357-1.335-.793-1.732H12V2H4v1.06Z" />',"</svg>"," ",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">','<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>','<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>',"</svg>","</a>"].join("")}function T(t){return this.field,"â‚¹ "+t.map(function(e){return+e.AggValues.SettlementAmount}).reduce(function(e,a){return e+a},0)}let Q=({inFindColumn:t})=>{t.formatter=z,t.footerFormatter=O};function z(t,e,a){return e.IsQrCodesRaised?[`<a href="#" data-rowpk="${e.pk}" class="btn btn-primary QRGenerateClass">`,'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-qr-code" viewBox="0 0 16 16">','<path d="M2 2h2v2H2V2Z"></path>','<path d="M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z"></path>','<path d="M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z"></path>','<path d="M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z">',"</path>",'<path d="M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z"></path>',"</svg>"," ",`${e.TotalItems}`,"</a>"].join(""):[`<a href="#" data-rowpk="${e.pk}" class="btn btn-outline-primary QRGenerateClass">`,'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-qr-code" viewBox="0 0 16 16">','<path d="M2 2h2v2H2V2Z"></path>','<path d="M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z"></path>','<path d="M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z"></path>','<path d="M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z">',"</path>",'<path d="M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z"></path>',"</svg>"," ",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">','<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>','<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>',"</svg>","</a>"].join("")}function O(t){return t.map(e=>e.TotalItems).reduce((e,a)=>e+a,0)}let P=({inFindColumn:t})=>{t.formatter=U,t.footerFormatter=E};function U(t,e,a){return e.IsItems?e.AggValues.ItemDetails:[`<a href="/Laundry/Branch/NewOrders/HtmlFiles/AddItemsWBtns.html?OrderNumber=${e.pk}" data-ordernumber="${e.pk}" class="btn btn-outline-success SettlementButtonClass" >`,'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"  viewBox="0 0 16 16">','<path d="M4 3.06h2.726c1.22 0 2.12.575 2.325 1.724H4v1.051h5.051C8.855 7.001 8 7.558 6.788 7.558H4v1.317L8.437 14h2.11L6.095 8.884h.855c2.316-.018 3.465-1.476 3.688-3.049H12V4.784h-1.345c-.08-.778-.357-1.335-.793-1.732H12V2H4v1.06Z" />',"</svg>"," ",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">','<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path>','<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>',"</svg>","</a>"].join("")}function E(t){this.field;var e=t.map(function(r){return+r.AggValues.ItemDetails.split(" / ")[1]}).reduce(function(r,l){return r+l},0),a=t.map(function(r){return+r.AggValues.ItemDetails.split(" / ")[0]}).reduce(function(r,l){return r+l},0);return`${a}/${e}`}let G=({inColumns:t})=>{let e=t,a=e.find(o=>o.field==="KS-Serial"),r=e.find(o=>o.field==="SettlementAmount"),l=e.find(o=>o.field==="QRRaise"),n=e.find(o=>o.field==="ItemDetails");a!==void 0&&A({inFindColumn:a}),r!==void 0&&N({inFindColumn:r}),l!==void 0&&Q({inFindColumn:l}),n!==void 0&&P({inFindColumn:n})};const K=()=>{var t=$("#table");s.onClickRow=y,G({inColumns:s.columns}),t.bootstrapTable(s)};let q=()=>{let e=document.getElementById("BranchNameId");const r=localStorage.getItem("BranchName").replace("BranOrders","");e!==null&&(e.innerHTML=r)};const J=()=>{q(),K(),g()},W=()=>{J(),i({inSuccessFunc:c})&&c().then()};W();
