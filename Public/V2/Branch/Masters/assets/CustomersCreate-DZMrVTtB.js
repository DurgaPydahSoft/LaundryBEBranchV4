import"./EntryFile-Cd6NxZjU.js";import{S as h}from"./EntryFile-DM5kX0UO.js";const L="POST",f={Accept:"application/json","Content-Type":"application/json"},F="",n={method:L,headers:f,body:F};let j=()=>{let a=document.getElementById("FormId");return n.body=JSON.stringify(S(a)),n};function S(a){var t=new FormData(a),r={};for(var[e,o]of t)o=o.trim(),r[e]?(Array.isArray(r[e])||(r[e]=[r[e]]),r[e].push(o)):r[e]=o;return r}const V="binV4",b="MastersCustomers",c={routePath:V,tableName:b};let B=async()=>{let a=c.routePath,t=c.tableName,r=j(),e=`/${a}/${t}/Create`;return await await fetch(e,r)},p=()=>{let t=document.getElementById("FormId").querySelectorAll("[required]"),r=!0;return t.forEach(e=>{if(e.value.trim().length===0){e.classList.add("is-invalid"),r=!1;return}if(e.value.trim().length>0&&e.classList.remove("is-invalid"),e.name==="Mobile"&&e.value.trim().length!==10){document.getElementById("MobileClass").innerHTML="must be 10",e.classList.add("is-invalid"),e.focus(),r=!1;return}}),r};const g="CustomersShowAll.html",y="CustomersCreate.html",l={RedirectToUrl:g,PresentUrl:y};let I=({inRowPk:a})=>{let t=a;N({inRowPk:t})===!1&&w({inRowPk:t})};const N=({inRowPk:a})=>{let t=a;return window.location.pathname.endsWith(`/${l.PresentUrl}`)?(window.location.href=`${l.RedirectToUrl}?inRowPk=${t}`,!0):!1},w=({inRowPk:a})=>{let t=a;window.location.href=`${jVarGlobalTableName}${l.RedirectToUrl}?inRowPk=${t}`};let P=async()=>{if(p()){let t=await B();if(t.status===200){let r=await t.text();I({inRowPk:r})}}},T=()=>{let a=document.getElementById("SaveButtonId");a!==null&&a.addEventListener("click",P)},D=()=>{T()};const i=()=>{const a=localStorage.getItem("CustomerNames"),t=JSON.parse(a);t.forEach(r=>{R({inCustomerName:r.CustomerName})}),t.map(r=>r.Mobile).forEach(r=>{v({inMobile:r})})},R=({inCustomerName:a})=>{var t=$('<option value="'+a+'"></option>');$("#CustomerNameDataListId").append(t)},v=({inMobile:a})=>{var t=$('<option value="'+a+'"></option>');$("#MobileNumberDataListId").append(t)},C=()=>{"AllMastersData"in localStorage||(document.getElementById("AllMastersHeaderId").click(),i())},k=()=>{A()};let A=()=>{const t=localStorage.getItem("BranchName").replace("BranOrders","");let e=document.getElementById("BranchName");e!==null&&(e.value=t)},E=()=>{let t=document.getElementById("BranchNameId");const e=localStorage.getItem("BranchName").replace("BranOrders","");t!==null&&(t.innerHTML=e)};const s=async()=>{E(),D(),C(),i(),k()},M=()=>{h({inSuccessFunc:s})&&((()=>{const r=document.getElementById("dob"),e=new Date,o=e.getFullYear(),d=(e.getMonth()+1).toString().padStart(2,"0"),m=e.getDate().toString().padStart(2,"0"),u=o+"-"+d+"-"+m;r.setAttribute("max",u)})(),s())};M();
